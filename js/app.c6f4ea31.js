(function(e){function t(t){for(var n,o,i=t[0],l=t[1],s=t[2],d=0,b=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==c[l]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},c={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/vue3-hw2/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2b2b":function(e,t,r){},"441a":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c={class:"container"};function a(e,t,r,a,o,i){var l=Object(n["j"])("ResumeCard"),s=Object(n["j"])("CommentCard");return Object(n["f"])(),Object(n["c"])(n["a"],null,[Object(n["e"])(l),Object(n["e"])("div",c,[Object(n["e"])(s)])],64)}r("b0c0");var o={key:0,class:"card"},i=Object(n["e"])("h2",null,"Комментарии",-1),l={class:"list"},s={key:1,class:"loader"};function u(e,t,r,c,a,u){return Object(n["f"])(),Object(n["c"])(n["a"],null,[Object(n["e"])("p",null,[Object(n["e"])("button",{class:"btn primary",onClick:t[1]||(t[1]=Object(n["p"])((function(){return u.loadComments&&u.loadComments.apply(u,arguments)}),["prevent"]))},"Загрузить комментарии")]),a.comments.length?(Object(n["f"])(),Object(n["c"])("div",o,[i,Object(n["e"])("ul",l,[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(a.comments,(function(e){return Object(n["f"])(),Object(n["c"])("li",{class:"list-item",key:e.id},[Object(n["e"])("div",null,[Object(n["e"])("h3",null,Object(n["l"])(e.name),1),Object(n["e"])("p",null,[Object(n["e"])("strong",null,Object(n["l"])(e.email),1)]),Object(n["e"])("small",null,Object(n["l"])(e.body),1)])])})),128))])])):Object(n["d"])("",!0),a.activeLoader?(Object(n["f"])(),Object(n["c"])("div",s)):Object(n["d"])("",!0)],64)}r("96cf");var d=r("1da1"),b=r("bc3a"),p=r.n(b),f={name:"CommentCard",data:function(){return{activeLoader:!1,baseUrl:"https://jsonplaceholder.typicode.com/",comments:[]}},methods:{loadComments:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeLoader=!0,t.prev=1,t.next=4,p.a.get(e.baseUrl+"comments?_limit=42").catch((function(){throw new Error("Error in file CommentCard in method loadComments")}));case 4:r=t.sent,e.comments=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.warn(t.t0.message);case 11:e.activeLoader=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};f.render=u;var m=f,O={class:"container column"},j={class:"card card-w70"},v={key:0,class:"component-list"},h=Object(n["e"])("img",{src:"https://img.icons8.com/plasticine/344/filled-trash.png",alt:"delete item"},null,-1),y={key:1};function g(e,t,r,c,a,o){var i=this,l=Object(n["j"])("FormCard");return Object(n["f"])(),Object(n["c"])("div",O,[Object(n["e"])(l,{typesOfRecord:a.typesOfRecord,onAddItem:o.addItem},null,8,["typesOfRecord","onAddItem"]),Object(n["e"])("div",j,[a.records.length?(Object(n["f"])(),Object(n["c"])("ul",v,[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(a.records,(function(e){return Object(n["f"])(),Object(n["c"])("li",{key:e},[Object(n["e"])("button",{class:"btn-del",onClick:Object(n["p"])((function(t){return i.deleteItem(e.name)}),["prevent"])},[h],8,["onClick"]),(Object(n["f"])(),Object(n["c"])(Object(n["k"])(e.activeType),{fieldVal:e.field},null,8,["fieldVal"]))])})),128))])):(Object(n["f"])(),Object(n["c"])("h3",y,"Добавьте первый блок, чтобы увидеть результат"))])])}r("c740"),r("a434"),r("4fad");var C=r("3835"),w={class:"card card-w30"},k={class:"form-control"},R=Object(n["e"])("label",{for:"type"},"Тип блока",-1),T={class:"form-control"},x=Object(n["e"])("label",{for:"value"},"Значение",-1);function I(e,t,r,c,a,o){return Object(n["f"])(),Object(n["c"])("form",w,[Object(n["e"])("div",k,[R,Object(n["o"])(Object(n["e"])("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.activeType=e}),onChange:t[2]||(t[2]=function(){return o.checkForm&&o.checkForm.apply(o,arguments)})},[(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(r.typesOfRecord,(function(e,t){return Object(n["f"])(),Object(n["c"])("option",{name:"typeOfRecord",value:t,key:t},Object(n["l"])(e),9,["value"])})),128))],544),[[n["m"],a.activeType]])]),Object(n["e"])("div",T,[x,Object(n["o"])(Object(n["e"])("textarea",{id:"value",name:"value",rows:"3","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.field=e}),onInput:t[4]||(t[4]=function(){return o.checkForm&&o.checkForm.apply(o,arguments)})},null,544),[[n["n"],a.field,void 0,{trim:!0}]])]),(Object(n["f"])(!0),Object(n["c"])(n["a"],null,Object(n["i"])(a.errors,(function(e){return Object(n["f"])(),Object(n["c"])("div",{class:["alert",e.type],key:e},Object(n["l"])(e.title),3)})),128)),Object(n["e"])("button",{class:"btn primary",disabled:a.disableButton,onClick:t[5]||(t[5]=Object(n["p"])((function(){return o.addItem&&o.addItem.apply(o,arguments)}),["prevent"]))}," Добавить ",8,["disabled"])])}r("b64b");var V=function(e,t){var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=[],c={};return e.length<4&&n.push({title:"Поле должно содержать минимум 4 символа",type:"danger"}),"ComponentEmail"!==t.activeType||r.test(e)||n.push({title:"Укажите корректный адрес электронной почты.",type:"warning"}),c.errors=n,c.status=!n.length,c},E={name:"FormCard",mounted:function(){this.resetActiveType()},emits:{addItem:{type:Object,require:!0}},props:{typesOfRecord:{type:Object,default:function(){return{componentTitle:"Заголовок"}}}},data:function(){return{activeType:null,disableButton:!0,field:"",errors:[]}},methods:{addItem:function(){var e=this;if(this.checkForm()){var t={activeType:this.activeType,field:this.field};this.$emit("addItem",t),this.resetActiveType(),this.disableButton=!0,this.errors.push({title:"Данные успешно добавлены",type:"primary"}),setTimeout((function(){e.errors=[]}),3e3)}},checkForm:function(){var e=V(this.field,{activeType:this.activeType});return this.errors=e.errors,this.disableButton=!e.status,e},resetActiveType:function(){var e=Object.keys(this.typesOfRecord)[0];e&&(this.activeType=e),this.field=""}}};E.render=I;var S=E,A=Object(n["q"])("data-v-86e055b4");Object(n["h"])("data-v-86e055b4");var F={class:"avatar"};Object(n["g"])();var _=A((function(e,t,r,c,a,o){return Object(n["f"])(),Object(n["c"])("div",F,[Object(n["e"])("img",{src:r.fieldVal,alt:"img"},null,8,["src"])])})),q={name:"ComponentAvatar",props:{fieldVal:{type:String,required:!0}}};r("bdbe");q.render=_,q.__scopeId="data-v-86e055b4";var P=q;function U(e,t,r,c,a,o){return Object(n["f"])(),Object(n["c"])("a",{href:"mailto:"+r.fieldVal},Object(n["l"])(r.fieldVal),9,["href"])}var L={name:"ComponentEmail",props:{fieldVal:{type:String,required:!0}}};L.render=U;var B=L;function M(e,t,r,c,a,o){return Object(n["f"])(),Object(n["c"])("h2",null,Object(n["l"])(r.fieldVal),1)}var z={name:"ComponentSubTitle",props:{fieldVal:{type:String,required:!0}}};z.render=M;var J=z;function Z(e,t,r,c,a,o){return Object(n["f"])(),Object(n["c"])("p",null,Object(n["l"])(r.fieldVal),1)}var $={name:"ComponentText",props:{fieldVal:{type:String,required:!0}}};$.render=Z;var D=$;function G(e,t,r,c,a,o){return Object(n["f"])(),Object(n["c"])("h1",null,Object(n["l"])(r.fieldVal),1)}var H={name:"ComponentTitle",props:{fieldVal:{type:String,required:!0}}};H.render=G;var K=H,N={name:"ResumeCard",components:{FormCard:S,ComponentAvatar:P,ComponentEmail:B,ComponentSubTitle:J,ComponentText:D,ComponentTitle:K},mounted:function(){p.a.defaults.baseURL=this.baseUrl,this.loadRecords()},data:function(){return{baseUrl:"https://vue3-21-default-rtdb.europe-west1.firebasedatabase.app/",records:[],typesOfRecord:{ComponentTitle:"Заголовок",ComponentSubTitle:"Подзаголовок",ComponentAvatar:"Аватар",ComponentText:"Текст",ComponentEmail:"Email"}}},methods:{addItem:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.post("records.json",e).catch((function(){throw new Error("Error in file ResumeCard in method addItem")}));case 3:n=r.sent,n.data&&(e.name=n.data.name),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.warn(r.t0.message);case 10:t.records.push(e);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()},loadRecords:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,n,c,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("records.json").catch((function(){throw new Error("Error in file ResumeCard in method loadRecords")}));case 3:if(r=t.sent,r.data)for(e.records=[],n=0,c=Object.entries(r.data);n<c.length;n++)a=Object(C["a"])(c[n],2),o=a[0],i=a[1],i.name=o,e.records.push(i);t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.warn(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deleteItem:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=-1,c=function(t){return t.name===e},t.records.findIndex(c),t.records.splice(n,1),r.prev=4,r.next=7,p.a.delete("records/".concat(e,".json")).catch((function(){throw new Error("Error in file ResumeCard in method deleteItem")}));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](4),console.warn(r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[4,9]])})))()}}};N.render=g;var Q=N,W={components:{CommentCard:m,ResumeCard:Q}};W.render=a;var X=W;r("441a");Object(n["b"])(X).mount("#app")},bdbe:function(e,t,r){"use strict";r("2b2b")}});
//# sourceMappingURL=app.c6f4ea31.js.map